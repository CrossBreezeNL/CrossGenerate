# Create Run.cmd file

After we Created the XML source-model, the config files and the templates. Now its time to create the run file to let our code being generated by CrossGenerate.

## Create CrossGenerate configuration file

In this xml-file we need to specify the diroctories of our model, Config and templates. We also need to specify the dirctory of our output file where all generated files would be saved.

```xml
<?xml version="1.0" encoding="utf-8"?>
<XGenAppConfig>
  <App>
    <ConfigFolder>..\Config</ConfigFolder>
    <ModelFolder>..\ModelOutput</ModelFolder>
    <OutputFolder>..\Output</OutputFolder>
    <TemplateFolder>..\Templates</TemplateFolder>
  </App>
</XGenAppConfig>
```

## Add the CrossGenerate.jar file

We need to add the CrossGenerate file to our files. This jar-file should be called and runned in every CrossGenerate run file.

## Create the run script

Now we need to create a command line script. In this script we need run the .jar command of CrossGenerate and we also need specify the following points:

- The source-model name.
- The CrossGenerate config-file directory.
- Foreach template that will be used in the run file, we need to specify the following information:

    - The directory-path of the model.
    - The directory-path of the tamplate.
    - The directory-path of the config-file. 

- The directory and the name of log file.

The code-block below contains the command line script of this tutorial.

```java
@echo off
set xgenerate=java -jar .\jar\XGenerate.jar
set model=sourceModel
echo Generating %model%...
echo.

%xgenerate% ^
 -config .\XGenerateCfg.xml ^
 -ps true ^
 -mtc %model%.xmodel.xml::"system_name_target/staging/tables/table_name.sql"::sql_entity.xml ^
 -mtc %model%.xmodel.xml::"system_name_target/archive/tables/table_name.sql"::sql_entity.xml ^
 -mtc %model%.xmodel.xml::"system_name_target/archive/procedures/update_table_name.sql"::sql_entity.xml ^
 -mtc %model%.xmodel.xml::"system_name_target/archive/views/current_table_name.sql"::sql_entity.xml ^
 -mtc %model%.xmodel.xml::"system_name_target/security/archive.sql"::sql_system.xml ^
 -mtc %model%.xmodel.xml::"system_name_target/security/staging.sql"::sql_system.xml ^
 -mtc %model%.xmodel.xml::"system_name_target/system_name_target.sqlproj"::system.xml ^
 -mtc %model%.xmodel.xml::"system_name_ETL/Staging_load_table_name.dtsx"::ssis_entity.xml ^
 -mtc %model%.xmodel.xml::"system_name_ETL/source_system_name.conmgr"::system.xml ^
 -mtc %model%.xmodel.xml::"system_name_ETL/target_system_name.conmgr"::system.xml ^
 -mtc %model%.xmodel.xml::"system_name_ETL/system_name_ETL.dtproj"::system.xml ^
 -mtc %model%.xmodel.xml::"system_name.sln"::system_text.xml ^
 -fll INFO ^
 -fld ..\log\xgenerate_staging_%model%.log

echo.
```

## Attachments
The entire tutorial, including all config-files and templates, can be found in the following zip file:

- [Tutorial.zip](CrossGenerate_Tutorial.zip)

Note: The run files for this project can be found in the 'Run' folder in the attachment.